name: DocFX Build 

on:
  push:
    branches:
      - master
      - docfx
  workflow_dispatch:

permissions:
  contents: read

jobs:
  build_docs:
    name: Build Documentation
    uses: loopyd/ecs-saber/.github/workflows/build.yml@master
    with:
      build_docs: true
      build_configuration: debug
      library_name: LeoEcsSaber
      src_branch: master
      docsfx_branch: docsfx
      repo_org: loopyd
      repo_project: ecs-saber

  deploy_docs:
    name: Deploy Documentation
    uses: loopyd/ecs-saber/.github/workflows/deploy.yml@master
    with:
      deploy_docs: true
      library_name: LeoEcsSaber
      src_branch: master
      gh_pages_branch: gh-pages
      github_email: "nightwintertooth@gmail.com"
      github_username: "loopyd"      